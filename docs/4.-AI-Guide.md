---
layout: default
title: AI Guide
nav_order: 7
---
<details markdown="block">
  <summary>
    Table of Contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

# AI Retrieval Augmented Generation (RAG) Guide

Swirl supports Real Time [Retrieval Augmented Generation (RAG)](index.md#what-is-retrieval-augmented-generation-rag-does-swirl-support-it) out of the box, using existing search engines, databases and enterprise services. 

![Picture of Swirl RAG](TBD)

<br/>

## Intended Audience

This guide details how to configure and tune Swirl (v. 3.0 or newer) to perform RAG. It is intended for use by developers and/opr system administrators with ability to configure the system to connect to services like OpenAI ChatGPT.

# Setting up RAG

1. Install Swirl 3.0 as noted in the [installation guide](TBD), including the latest UI image. TBD review this.

2. Add your OpenAI API key to the .env file:

```
OPENAI_API_KEY=your-key-here
```

3. If installing locally, for non-production use, change the following line in `static/api/config/default` from:

```
"webSocketConfig": {
    "url": "wss://localhost:8000/chatgpt-data"
  }
``` 

...to...

```
"webSocketConfig": {
    "url": "ws://localhost:8000/chatgpt-data"
  }
```

4. Add the following configuration to the `page_fetch_config_json parameter` of each SearchProvider you wish to have participate in RAG:

``````
"page_fetch_config_json": {
        "cache": "false",
        "headers": {
            "User-Agent": "Swirlbot/1.0 (+http://swirl.today)"
        },
        "timeout": 10
}, 
```

Note that it has already been added to the following providers:

* [European PMC](TBD)
* More TBD

5. Restart Swirl: 

```
python swirl.py restart
```

6. Go to the Galaxy UI. The "Generate AI Response" switch should be "off" as shown:

![](TBD)

7. Run a search. Results a few seconds after you press the "Search" button:

![](TBD)

8. If you wish to manually select the results to RAG with, click the "Select Items" switch to make the shopping cart appear. Results that Swirl thinks should be used in RAG will be checked already. Check or uncheck results.

9. Click the "Generate AI Response" switch. A spinner will appear. The RAG response will appear in 5-15 seconds :slightly_smiling_face: depending on a variety of factors

![](TBD)

10. Verify the insight you received by reviewing the citations - and enjoy the time saved!

<br/>

## Notes

* Swirl does not recommend RAG with public web data due to difficulty extracting article content; if interested in a solution for public data please [contact hello@swirl.today](mailto:hello@swirl.today) for more information.

* Swirl Community does not support fetching results that require authentication. It is recommended for RAG with internal sources you have control over - such as elastic, solr, OpenSearch, a database like PostgreSQL or Google BigQuery, etc.

* For RAG cases using enterprise services like Microsoft 365, ServiceNow, Salesforce, Atlassian with OAUTH2 and SSO, please [contact us for information about Swirl Enterprise](mailto:hello@swirl.today)...
